version: 0
platforms:
  - Linux x86_64
  - Linux arm64
wrapper:
  language: c
  in_headers: ../../shared/glib/girepository/girepository.h
  out_header: girepository-wrapper.h
  out_source: girepository-wrapper.c
  load_all_includes: true
from:
  language: c
  shared: 'libgirepository-2.0.so'
  headers:
    - ../../shared/glib/girepository/girepository.h
    - girepository-wrapper.h
  includedirs:
    - ../../stdinc/
    - ../../shared/glib/
    - ../../shared/glib/glib/
    - ../../shared/glib/gmodule/
    - ../../shared/glib/_build/
    - ../../shared/glib/_build/glib/
    - ../../shared/glib/_build/girepository/
  defines:
    GLIB_COMPILATION: 1
    GLIB_DISABLE_DEPRECATION_WARNINGS: 1
  extern:
    - '../../stdinc/*'
    - '../../stdinc/sys/*'
    - '../../shared/glib/glib/*'
    - '../../shared/glib/gobject/*'
    - '../../shared/glib/gmodule/*'
    - '../../shared/glib/gio/*'
    - '../../shared/glib/_build/glib/*'
    - '../../shared/glib/_build/gobject/*'
    - '../../shared/glib/_build/gmodule/*'
    - '../../shared/glib/_build/gio/*'
    - '../../shared/glib/glib/deprecated/*'
  load_all_includes: true
  ignore:
    types:
      - va_list
    macros:
      - '_GI_*'
      - 'GI_DEPRECATED*'
      - 'GI_AVAILABLE_*'
      - 'GI_VAR'
      - '*_INIT'
to:
  language: odin
  package: girepository
  out: girepository.odin
  trim_prefix:
    types:
      - g
      - GI
      - G
    functions:
      - g_
      - gi_
      - glib_
    variables:
      - g_
      - gi_
    constants:
      - G_
      - GI_
  trim_suffix:
    functions:
      - _wrapper
  extern:
    sources:
      '../../shared/glib/glib/*': 'glib ..'
      '../../shared/glib/_build/glib/*': 'glib ..'
      '../../shared/glib/glib/deprecated/*': 'glib ..'
      '../../shared/glib/gobject/*': 'gobj ../gobject'
      '../../shared/glib/_build/gobject/*': 'gobj ../gobject'
      '../../shared/glib/gmodule/*': 'gobj ../gobject'
      '../../shared/glib/_build/gmodule/*': 'gobj ../gobject'
    remaps:
      pid_t: Pid
      uid_t: Uid
    trim_prefix: true
  add_libs: '../../lib/linux/libgirepository-wrapper.a'
